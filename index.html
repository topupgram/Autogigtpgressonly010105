<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0"/>
<title>Form Pembelian Robux - GAMEPASS</title>

<link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">

<style>
:root{--accent:#4a6fa1;--muted:#6b7280}
body{font-family:Roboto,sans-serif;background:#fff;margin:0;padding:18px;font-size:12px}
.form-container{max-width:460px;margin:auto;background:#fafafa;border:1px solid #d1d9e6;border-radius:10px;padding:18px}
label{display:block;margin-bottom:6px}
input,select,textarea{width:100%;padding:8px;border-radius:6px;border:1px solid #ccc}
button{width:100%;padding:10px;border:none;border-radius:6px;background:var(--accent);color:#fff;font-weight:600}
.hidden{display:none}

/* MODAL */
.modal-backdrop{position:fixed;inset:0;background:rgba(0,0,0,.45);display:none;align-items:center;justify-content:center;z-index:9999}
.modal{background:#fff;border-radius:12px;padding:16px;width:340px;text-align:center}
.qr{width:180px;height:180px;margin:auto;border-radius:8px;border:1px solid #eee}
.amount{font-size:18px;font-weight:700;margin:10px 0}

.method-switch{display:flex;gap:6px;margin:10px 0}
.method-btn{flex:1;padding:6px;border-radius:6px;border:1px solid #ccc;background:#f3f3f3;font-size:12px}
.method-btn.active{background:var(--accent);color:#fff}

.wallet-number{font-weight:700;margin:6px 0}
.copy-mini-btn{padding:4px;font-size:11px}

.actions{display:flex;gap:8px;margin-top:10px}
.actions button{flex:1}

.copy-success{font-size:12px;color:green;margin-top:6px}
</style>
</head>

<body>

<div class="form-container">
<form id="frm">
<label>Username Roblox *</label>
<input id="usr" required>

<label>Display Name *</label>
<input id="dsp" required>

<label>Maps *</label>
<select id="map" required>
<option value="">-- pilih --</option>
<option value="Robux Gamepass">1. Robux Gamepass NO TAX</option>
</select>

<label>Item / Order *</label>
<textarea id="itm" required></textarea>

<label>Jumlah Robux *</label>
<input type="number" id="rbx" required>

<label>Total Harga</label>
<input id="hg" readonly>

<button type="button" id="btnTg">Pesan via Telegram</button>
</form>
</div>

<!-- PAYMENT MODAL -->
<div id="paymentModalBackdrop" class="modal-backdrop">
<div class="modal">
<h3>Pembayaran</h3>

<img id="modalQr" class="qr">
<div id="modalAmount" class="amount">Rp0</div>

<div class="method-switch">
<button class="method-btn active" data-method="qris">QRIS</button>
<button class="method-btn" data-method="gopay">GoPay</button>
<button class="method-btn" data-method="seabank">SeaBank</button>
<button class="method-btn" data-method="dana">DANA</button>
</div>

<div class="wallet-section">
<div id="walletLabel">QRIS (scan QR di atas)</div>
<div class="wallet-number" id="walletNumber">Gunakan QR di atas</div>
<button id="copyNumberBtn" class="copy-mini-btn">Salin nomor</button>
<div id="walletNote" style="font-size:11px;color:#555">
QRIS hingga Rp499.000 tidak ada biaya tambahan.
</div>
</div>

<div class="actions">
<button id="copyAmountBtn">Salin Jumlah</button>
<button id="openBotBtn">Buka Bot</button>
</div>

<button id="closeModalBtn" style="margin-top:10px;background:#ddd;color:#000">Tutup</button>
<div id="copySuccess" class="copy-success"></div>
</div>
</div>

<script>
const RATE = 85;

/* PAYMENT DATA */
const PAYMENT_METHODS = {
qris:{
qr:"https://payment.uwu.ai/assets/images/gallery03/8555ed8a_original.jpg",
label:"QRIS (scan QR di atas)",
number:"Gunakan QR di atas"
},
gopay:{
qr:"https://via.placeholder.com/180?text=GOPAY",
label:"GoPay",
number:"08123456789"
},
seabank:{
qr:"https://via.placeholder.com/180?text=SEABANK",
label:"SeaBank",
number:"901234567890"
},
dana:{
qr:"https://via.placeholder.com/180?text=DANA",
label:"DANA",
number:"08129876543"
}
};

rbx.oninput=()=>hg.value="Rp"+(rbx.value*RATE).toLocaleString("id-ID");

btnTg.onclick=()=>{
const txt=
`Pesanan Baru Robux!\n
Username: ${usr.value}
Display: ${dsp.value}
Map: ${map.value}

Item:
${itm.value}

Jumlah Robux: ${rbx.value}
Total: ${hg.value}`;

fetch("https://api.telegram.org/bot8039852277:AAEqbfQUF37cjDlEposj2rzHm28_Pxzv-mw/sendMessage",{
method:"POST",
headers:{"Content-Type":"application/json"},
body:JSON.stringify({chat_id:"-1003049680083",text:txt})
}).then(()=>{
openPayment();
frm.reset();
hg.value="";
});
};

function openPayment(){
paymentModalBackdrop.style.display="flex";
setMethod("qris");
modalAmount.textContent=hg.value;
}

function setMethod(m){
document.querySelectorAll(".method-btn").forEach(b=>b.classList.remove("active"));
document.querySelector(`[data-method="${m}"]`).classList.add("active");
modalQr.src=PAYMENT_METHODS[m].qr;
walletLabel.textContent=PAYMENT_METHODS[m].label;
walletNumber.textContent=PAYMENT_METHODS[m].number;
}

document.querySelectorAll(".method-btn").forEach(b=>{
b.onclick=()=>setMethod(b.dataset.method);
});

copyAmountBtn.onclick=()=>{
navigator.clipboard.writeText(modalAmount.textContent);
copySuccess.textContent="Jumlah disalin";
};

copyNumberBtn.onclick=()=>{
navigator.clipboard.writeText(walletNumber.textContent);
copySuccess.textContent="Nomor disalin";
};

closeModalBtn.onclick=()=>paymentModalBackdrop.style.display="none";

openBotBtn.onclick=()=>{
window.open("https://t.me/topupgamesbot","_blank");
};
</script>

</body>
</html>
